<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yunos.tv.appupgrade.dal.dao.ResourceUpgradeRuleDAO">

	<select id="getListByVersionId" resultType="ResourceUpgradeRuleDo" parameterType="long">
		select `id`,`version_id`,`type`,`value`,`min_value`,`max_value`
		FROM `resource_upgrade_rule`
		WHERE 
			`version_id` = #{versionId} AND	
			`is_delete` = 0
		ORDER BY `id` ASC	
		LIMIT 100
	</select>

	<select id="getListByVersionIds" resultType="ResourceUpgradeRuleDo" parameterType="java.util.List">
		select `id`,`version_id`,`type`,`value`,`min_value`,`max_value`
		FROM `resource_upgrade_rule`
		WHERE 
			<if test="list != null">
				 `version_id` IN 
				<foreach item="item" index="index" collection="list" open="(" separator="," close=")">
					#{item}
				</foreach>	
				AND	
			</if>	
			`is_delete` = 0
		ORDER BY `id` ASC	
	</select>		
	
</mapper>